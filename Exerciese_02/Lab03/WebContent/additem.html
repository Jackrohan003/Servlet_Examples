<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>

<link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css" rel="stylesheet" type="text/css" />
    
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.js" type="text/javascript"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js" type="text/javascript"></script>
 
</head>
<body>
	
	<form action="inventory" method="post">
	
	<input type="hidden" name="action" value="additem"/>
	
	Code: <input type="text" name="code" id="code"/><br/>
	Description: <input type="text" name="description"/><br/>
	Stock: <input type="text" name="stock"/><br/>
	MinStock: <input type="text" name="minstock"/><br/>
	Cost: <input type="text" name="cost"/><br/>
	<span id="ajaxResponse"></span>
	<input type="button" name="check" id="check" value="check"/>
	<input type="submit" name="addItem" id="addItem" value="ADD" disabled=true/>
	</form>
	
<script>
	$("#check").click(function(e){
		var itemCode = $("#code").val();
		//alert("hey");
		//console.log("hye");
		$.ajax({
            type: "GET",
            url: "inventory?action=checkItem&code="+itemCode,
            data: itemCode,
            //dataType: "json",
            success: function( data, textStatus, jqXHR){ 
            	 //$("#ajaxResponse").html(jqXHR.responseText);
            	 //alert(data);
            	 // data = success / exists
            	if(data=="Success"){
            		$("#ajaxResponse").html("Item can be added");	
            		$("#addItem").attr("disabled",false);
            	}
            	else{
            		$("#ajaxResponse").html("Item Already exists");
            		$("#addItem").attr("disabled",true);
            	}
            }
	});
	});
</script>


</body>
</html>

